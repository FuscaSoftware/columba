Return-Path: <jython-users-admin@lists.sourceforge.net>
X-Flags: 0000
Delivered-To: GMX delivery to fdietz@gmx.de
Received: (qmail 15042 invoked by uid 65534); 2 Oct 2003 20:14:46 -0000
Received: from lists.sourceforge.net (EHLO sc8-sf-list2.sourceforge.net) (66.35.250.206)
  by mx0.gmx.net (mx010-rz3) with SMTP; 02 Oct 2003 22:14:46 +0200
Received: from sc8-sf-list1-b.sourceforge.net ([10.3.1.13] helo=sc8-sf-list1.sourceforge.net)
	by sc8-sf-list2.sourceforge.net with esmtp (Exim 3.31-VA-mm2 #1 (Debian))
	id 1A59qW-0000N0-00; Thu, 02 Oct 2003 13:14:44 -0700
Received: from sc8-sf-mx1-b.sourceforge.net ([10.3.1.11] helo=sc8-sf-mx1.sourceforge.net)
	by sc8-sf-list1.sourceforge.net with esmtp 
	(Cipher TLSv1:DES-CBC3-SHA:168) (Exim 3.31-VA-mm2 #1 (Debian))
	id 1A59pn-00076o-00
	for <jython-users@lists.sourceforge.net>; Thu, 02 Oct 2003 13:13:59 -0700
Received: from mailgate1.isx.com ([192.77.181.61])
	by sc8-sf-mx1.sourceforge.net with esmtp (Exim 4.22)
	id 1A59pj-00018V-6o
	for jython-users@lists.sourceforge.net; Thu, 02 Oct 2003 13:13:55 -0700
Received: from 127.0.0.1 (mailgate1.isx.com [127.0.0.1])
	by mailgate1.isx.com (Postfix) with SMTP id 6D2B95B1B7
	for <jython-users@lists.sourceforge.net>; Thu,  2 Oct 2003 16:13:26 -0400 (EDT)
Received: from localhost (mailgate1.isx.com [127.0.0.1])
	by mailgate1.isx.com (Postfix) with ESMTP id 7D25F5B1B6
	for <jython-users@lists.sourceforge.net>; Thu,  2 Oct 2003 16:13:24 -0400 (EDT)
Received: from mailgate1.isx.com ([127.0.0.1])
 by localhost (mailgate1.isx.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 14935-01-9 for <jython-users@lists.sourceforge.net>;
 Thu,  2 Oct 2003 16:13:24 -0400 (EDT)
Received: from amiga (vr-atl.isx.com [192.77.181.1])
	by mailgate1.isx.com (Postfix) with SMTP id 2EB935B1B5
	for <jython-users@lists.sourceforge.net>; Thu,  2 Oct 2003 16:13:24 -0400 (EDT)
Message-ID: <006801c38921$a0c5a7a0$8b01010a@isxwin2k.com>
Reply-To: "Mike Kopack" <mkopack@isx.com>
From: "Mike Kopack" <mkopack@isx.com>
To: <jython-users@lists.sourceforge.net>
Organization: ISX Corporation
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0065_01C38900.199C12D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Scanned: by amavisd-new at mailgate1.isx.com
X-Spam-Status: No, hits=-1.0 required=4.0
	tests=AWL,BAYES_30,HTML_40_50
	version=2.55
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-DCC-SINECTIS-Metrics: mailgate1.isx.com 1114; IP=ok Body=1 Fuz1=1 Fuz2=1
X-Spam-Score: 1.2 (+)
X-Spam-Report: 1.2/5.0
	Spam Filtering performed by sourceforge.net.
	See http://spamassassin.org/tag/ for more details.
	Report problems to https://sf.net/tracker/?func=add&group_id=1&atid=200001
	HTML_40_50         (1.1 points)  BODY: Message is 40% to 50% HTML
	HTML_MESSAGE       (0.1 points)  BODY: HTML included in message
Subject: [Jython-users] Ok, one more question...
Sender: jython-users-admin@lists.sourceforge.net
Errors-To: jython-users-admin@lists.sourceforge.net
X-BeenThere: jython-users@lists.sourceforge.net
X-Mailman-Version: 2.0.9-sf.net
Precedence: bulk
List-Help: <mailto:jython-users-request@lists.sourceforge.net?subject=help>
List-Post: <mailto:jython-users@lists.sourceforge.net>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/jython-users>,
	<mailto:jython-users-request@lists.sourceforge.net?subject=subscribe>
List-Id: <jython-users.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/listinfo/jython-users>,
	<mailto:jython-users-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum=jython-users>
X-Original-Date: Thu, 2 Oct 2003 16:13:21 -0400
Date: Thu, 2 Oct 2003 16:13:21 -0400
X-GMX-Antivirus: -1 (not scanned, may not use virus scanner)
X-GMX-Antispam: 0 (Mail was not recognized as spam)

This is a multi-part message in MIME format.

------=_NextPart_000_0065_01C38900.199C12D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Ok, thanks again guys for the help. You've been lifesavers.=20

I have one more problem...

First off. I have an execution harness. In there I set up 3 variables =
(systemname, credentials, archive). My harness loads in another .py file =
and does an exec on it, while passing in those 3 variables as globals.

Inside my executed .py, I can see those 3 globals and use them no =
problem.

Now, inside that code, I make calls out to a library of objects. What =
I'd like is for those objects to also be able to see the 3 variables =
without having to explicitly pass them in during method calls. I would =
have thought they would have been visible since they were global to the =
execution process, but I keep getting a "NameError: systemname" whenever =
I try to access one of the 3 variables inside my library objects.

Is there another way to get those variables to be in global scope? (And =
yes, I know this is very bad style, I have a specific reason for doing =
it this way....)

I tried using the "from __future__ import nested_scopes" at the =
beginning of the library code, and the beginning of the outer code, but =
that didn't seem to matter.


So, in a nutshell:

A.py
--------
globaldict =3D {"systemname":"abc"}
exec B.py in globaldict

B.py:
----
from C import *

print systemname     # will show "abc" on the output...
connection =3D C()

C.py
------
class C:
    def __init__():
    self.sysname =3D systemname    # this fails with a NameError. WHY?

Any ideas?

--Mike




------=_NextPart_000_0065_01C38900.199C12D0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2800.1226" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Ok, thanks again guys for the help. =
You've been=20
lifesavers. </FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>I have one more problem...</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>First off. I have an execution harness. =
In there I=20
set up 3 variables (systemname, credentials, archive). My harness loads =
in=20
another .py file and does an exec on it, while passing in those 3 =
variables as=20
globals.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Inside my executed .py, I can see those =
3 globals=20
and use them no problem.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Now, inside that code, I make calls out =
to a=20
library of objects. What I'd like is for those objects to also be able =
to see=20
the 3 variables without having to explicitly pass them in during method =
calls. I=20
would have thought they would have been visible since they were global =
to the=20
execution process, but I keep getting a "NameError: systemname" whenever =
I try=20
to access one of the 3 variables inside my library objects.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Is there another way to get those =
variables to be=20
in global scope? (And yes, I know this is very bad style, I have a =
specific=20
reason for doing it this way....)</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>I tried using the "from __future__ =
import=20
nested_scopes" at the beginning of the library code, and the beginning =
of the=20
outer code, but that didn't seem to matter.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>So, in a nutshell:</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>A.py</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>--------</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>globaldict =3D =
{"systemname":"abc"}<BR></FONT><FONT=20
face=3DArial size=3D2>exec B.py in globaldict</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>B.py:</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>----</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>from C import *</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>print =
systemname&nbsp;&nbsp;&nbsp;&nbsp; # will=20
show "abc" on the output...</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>connection =3D C()</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>C.py</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>------</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>class C:</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp;&nbsp; def =
__init__():</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp;&nbsp; self.sysname =3D=20
systemname&nbsp;&nbsp;&nbsp; # this fails with a NameError. =
WHY?</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Any ideas?</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>--Mike</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV></BODY></HTML>

------=_NextPart_000_0065_01C38900.199C12D0--




-------------------------------------------------------
This sf.net email is sponsored by:ThinkGeek
Welcome to geek heaven.
http://thinkgeek.com/sf
_______________________________________________
Jython-users mailing list
Jython-users@lists.sourceforge.net
https://lists.sourceforge.net/lists/listinfo/jython-users

